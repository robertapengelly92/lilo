.\" Automatically generated by Pod::Man 2.28 (Pod::Simple 3.28)
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  \*(C+ will
.\" give a nicer C++.  Capital omega is used to do unbreakable dashes and
.\" therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
.\" nothing in troff, for use with C<>.
.tr \(*W-
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
.    ds C`
.    ds C'
'br\}
.\"
.\" Escape single quotes in literal strings from groff's Unicode transform.
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\"
.\" If the F register is turned on, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.\"
.\" Avoid warning from groff about undefined register 'F'.
.de IX
..
.nr rF 0
.if \n(.g .if rF .nr rF 1
.if (\n(rF:(\n(.g==0)) \{
.    if \nF \{
.        de IX
.        tm Index:\\$1\t\\n%\t"\\$2"
..
.        if !\nF==2 \{
.            nr % 0
.            nr F 2
.        \}
.    \}
.\}
.rr rF
.\" ========================================================================
.\"
.IX Title "LILO 8"
.TH LILO 8 "2015-11-22" "24.2" "lilo documentation"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.if n .ad l
.nh
.SH "NAME"
lilo \- install boot loader of LiLO
.SH "SYNOPSIS"
.IX Header "SYNOPSIS"
Main function:
.PP

 
\&\fBlilo\fR
.PP
Auxiliary uses:
.PP

 
\&\fBlilo\fR \fB\-A\fR        # activate/show active partition 
 
\&\fBlilo\fR \fB\-E\fR        # edit header or update a bitmap file 
 
\&\fBlilo\fR \fB\-I\fR        # inquire path name of current kernel 
 
\&\fBlilo\fR \fB\-M\fR        # write a Master Boot Loader on a device 
 
\&\fBlilo\fR \fB\-q\fR        # query map and show its content 
 
\&\fBlilo\fR \fB\-R\fR        # set default command line for next reboot 
 
\&\fBlilo\fR \fB\-T\fR        # tell more about specified topic 
 
\&\fBlilo\fR \fB{\-u|\-U}\fR   # uninstall LiLO boot loader
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
lilo installs a boot loader that will be activated the next time you boot
your system. The default configuration file \fI/etc/lilo.conf\fR (see manpage
\&\fIlilo.conf\fR\|(5)) will contain most options, but many, including those which
override the configuration file, may be specified  on the command line.
.SH "OPTIONS"
.IX Header "OPTIONS"
.IP "\fB\-A\fR \fImaster-device [N]\fR" 4
.IX Item "-A master-device [N]"
Used with a single argument, inquire of active partition on device \fImaster-device\fR;
e.g. \fI/dev/sda\fR. With N==0: deactivate all partitions on the device. With N in
the range [1..n]: activate the specified partition and deactivate all others.
Normally, only primary partitions [1..4] may be activated, but if the 'Extended
Master Boot Loader' is present on the Master Boot Record (\s-1MBR\s0) of the device
(see the \-M option), any partition may be made active.  Whether the actual \s-1OS\s0
in the partition will boot from a logical partition depends on the characteristics
of the \s-1OS. LILO\s0 boot records for Linux may be booted from a logical partition.
.IP "\fB\-b\fR \fIbootdev\fR" 4
.IX Item "-b bootdev"
Set the boot device where the boot loader will be installed. For example
\&\fI\*(L"\-b /dev/sda\*(R"\fR set the Master Boot Record (\s-1MBR\s0) on the first disk as boot
device. \fI\*(L"\-b /dev/sdb5\*(R"\fR set the first logical partition on the second disk
as boot device.
.IP "\fB\-B\fR \fIbitmap-file\fR" 4
.IX Item "-B bitmap-file"
Define a bitmap file for the boot-time graphics screen, preferably one already
pre-processed with the \fI\-E\fR option.
.IP "\fB\-c\fR" 4
.IX Item "-c"
Enable map compaction. This will merge read requests from adjacent sectors.
Speeds up the booting especially from floppy.
.IP "\fB\-C\fR \fIconfig-file\fR" 4
.IX Item "-C config-file"
Set another pathname and filename for the configuration file. The default
configuration file is \fI/etc/lilo.conf\fR.
.IP "\fB\-d\fR \fIdelay-time\fR" 4
.IX Item "-d delay-time"
Set the delay time in tenths of a second ('20' = 2 sec) before automatically
booting the first image. This give you time to interrupt the automatic boot
process with: Shift, Alt, Ctrl, ScrollLock, or CapsLock. If interrupted, the
\&\fIboot:\fR prompt will be displayed.
.Sp
This switch will be overridden by the appearance of \fIprompt\fR in the
configuration file!
.IP "\fB\-D\fR \fIlabel\fR" 4
.IX Item "-D label"
Use the kernel with the given label as the default kernel to boot, instead of
the first one in the list of the configuration file.
.IP "\fB\-E\fR \fIfilename.xxx\fR" 4
.IX Item "-E filename.xxx"
If the extension \fB.xxx\fR is \fB.bmp\fR, then take the file to be a bitmap graphic file
for use in the \fIbitmap=\fR configuration file directive. Enter an interactive
editor to create or update the color/placement information in the \s-1LILO\s0 header
of this bitmap file. (see \fIbmp-colors\fR, \fIbmp-table\fR, and \fIbmp-timer\fR on the
manual page for \fIlilo.conf (5)\fR.)
.Sp
If \fB.xxx\fR is \fB.dat\fR then take this file to be a configuration file to set bitmap
graphic parameters, which are transferred into the \s-1LILO\s0 header in the bitmap file
of the same name.
.Sp
When a \fB.bmp\fR file is modified using a graphics editor (e.g. \s-1GIMP\s0), the \s-1LILO\s0
header will be lost. It can be restored using the \fBdat\fR file, which is used as
a text-based backup for the \s-1LILO\s0 header information.
.IP "\fB\-f\fR \fIdisk-tab\fR" 4
.IX Item "-f disk-tab"
Set another disk geometry parameter file. The default is \fI/etc/disktab\fR.
.IP "\fB\-F\fR" 4
.IX Item "-F"
Override boot sector check for filesystems (e.g., swap, ext4, xfs ...) which
might be destroyed by the installation of the \s-1LILO\s0 boot sector on the first
sector of the partition if these filesystems use the first sector as a superblock.
.Sp
Compare with \fI\-P ignore\fR, which bypasses certain partition table checks.
.IP "\fB\-g\fR" 4
.IX Item "-g"
Generate 'cylinder/head/sector' (\s-1CHS\s0 geometric) disk addresses. Limited to cylinders
up to 1023. Forces compatibility with very old versions of \s-1LILO \s0\fI(obsolete switch)\fR.
.IP "\fB\-H\fR" 4
.IX Item "-H"
Override fatal halt if a \s-1RAID\s0 array does not have all disks active.
.IP "\fB\-I\fR \fIlabel [D|a|i|k|r|R]\fR" 4
.IX Item "-I label [D|a|i|k|r|R]"
\&\fBlabel\fR is taken to be the name of an image specified in the configuration file.
This command will print the path name of the corresponding kernel file, keytable
file, initial ramdisk file, root specification, or \*(L"append=\*(R" string (\*(L"i\*(R", \*(L"k\*(R",
\&\*(L"r\*(R", \*(L"R\*(R", or \*(L"a\*(R" option). The \*(L"D\*(R" option ignores the \fBlabel\fR parameter and
prints the default \*(L"image=\*(R" label, or the first \*(L"image=\*(R" label is selected if
no default \fBimage\fR is set.
.IP "\fB\-l\fR" 4
.IX Item "-l"
Generate 24\-bit linear sector addresses instead of cylinder/head/sector addresses.
.IP "\fB\-L\fR" 4
.IX Item "-L"
Generate 32\-bit Logical Block Addresses (\s-1LBA\s0) instead of cylinder/head/sector (\s-1CHS\s0)
addresses, allowing access to all partitions on disks with more than 1024 cylinders.
(This is the default geometry).
.IP "\fB\-m\fR \fImap-file\fR" 4
.IX Item "-m map-file"
Use another map file instead of the default file /boot/map.
.IP "\fB\-M\fR \fImaster-device\fR \fB{mbr|ext}\fR" 4
.IX Item "-M master-device {mbr|ext}"
Install a Master Boot Record on the device specified as master-device, selecting
the Standard or Extended Master Boot Loader per option. The primary partition
table on master-device is undisturbed. If no valid Volume-ID (serial number) is
present, then generate one and write it to the \s-1MBR.\s0 If \fImbr\fR is set, the
Standard Master Boot Loader will search partitions 1\-4 for an active flag, and
boot the flagged partition. Only one active flag is allowed. If \fIext\fR is set,
the search for an active partition will include logical partitions as well.
The presence of the Extended Master Boot Loader on the Master Boot Record
(\s-1MBR\s0 = sector 0) of a disk affects the operation of the \fI\-A\fR option.
.IP "\fB\-p\fR" 4
.IX Item "-p"
Require interactive entry of all passwords set as "" in the configuration file.
.IP "\fB\-P\fR \fI{fix|ignore|<global\-option\fR}>" 4
.IX Item "-P {fix|ignore|<global-option}>"
Fix or ignore 'corrupt' partition tables, e.g. partition tables with linear and
cylinder/head/sector addresses that do not correspond. Always try \fBignore\fR
first, as \fBfix\fR will re-write the partition table, possibly destroying all
partitions on the disk.
.Sp
\&\fBignore\fR is also used to bypass the partition table check for partition types
within the partition table which might not allow the installation of a \s-1LILO\s0 boot
sector. Compare with the '\-F' flag, which overrides the check of the actual
boot sector.
.Sp
\&\fB<global\-option>\fR allows the passing of any global option which may
appear in the global section (top) of the  configuration file (\fI/etc/lilo.conf\fR).
For instance \fI'\-P nowarn'\fR will pass the 'nowarn' option, just as though 'nowarn'
appeared in the configuration file (same as the '\-w' switch).  Similarly
\&\fI'\-P timeout=50'\fR will add or override the 'timeout=' line in the  configuration
file. Note that the general \fB\-P\fR switch actually duplicates a number of command
line option switches. However, it is not strictly the same as some switches which
cause an override of other options; e.g. '\-g' (\-P geometric), '\-L' (\-P lba32).
.IP "\fB\-q\fR" 4
.IX Item "-q"
List the currently mapped files. \fBlilo\fR maintains a file, by default \fI/boot/map\fR,
containing each name and location of the kernel(s) to boot. This option will list
the names therein.  Use with \fB\-v\fR for more detailed information about the
installed boot loader.
.IP "\fB\-r\fR \fIroot-directory\fR" 4
.IX Item "-r root-directory"
Before doing anything else, do a \fI'chroot'\fR to the indicated directory. The new
root directory must contain a \fI/dev\fR directory and may need a /boot directory.
It may also need an \fI/etc/lilo.conf\fR file.
.IP "\fB\-R\fR \fIcommand-line\fR" 4
.IX Item "-R command-line"
This  option sets the default command for the boot loader for the next time it
executes. After execution the boot loader will erase this line because it is a
once-only command. It is typically used in reboot scripts, just before calling
\&'shutdown \-r'. Used without any arguments, it will cancel a \fIlock\fR\-ed or
\&\fIfallback\fR command line.
.Sp
This Command line starts with image identifier (as shown during map file update),
then space, then kernel parameters. The kernel parameters are appended to kernel
command line constructed routinely. In either case, it there were parameters
or not, such one-time command will be treated by loaders code, as if it is set
at 'boot:' prompt. This could lead to 'password:' prompt at boot time. Be warned!
Refer to \fI\fIlilo.conf\fI\|(5)\fR for details.
.IP "\fB\-s\fR \fIsave-file\fR" 4
.IX Item "-s save-file"
When lilo writes a new boot sector, it preserves the former contents of the boot
sector in a file, named by default /boot/boot.NNNN, where \s-1NNNN\s0 is the hexadecimal
representation of the major and minor device numbers of the drive/partition.
.Sp
This option defines the backup save file in one of three ways: a save directory
(default is '/boot') using the default filename 'boot.NNNN' in the defined
directory; a pathname template to which '.NNNN' is appended (default would be
\&'/boot/boot'); or the full pathname of the file, which must include the correct
\&'.NNNN' suffix. When used with the \-u option, the full file pathname must be set.
.IP "\fB\-S\fR \fIsave-file\fR" 4
.IX Item "-S save-file"
Normally lilo will not overwrite an existing boot sector save file. This options
says that overwriting is to be forced. As with \-s, the setting may be of a save
directory, pathname template, or full pathname (which includes the '.NNNN' suffix).
.IP "\fB\-t\fR" 4
.IX Item "-t"
Test only. Do not really write a new boot sector or map file. Use together with
\&\fB\-v\fR to find out what lilo is about to do.
.IP "\fB\-T\fR \fIoption\fR" 4
.IX Item "-T option"
Print out system information, some of it extracted from system bios. This is more
convenient than booting the \s-1LILO\s0 diagnostic floppy on problem systems. \fBoption\fR
may be any one of the following:
.Sp
.Vb 11
\& help          print a list of available diagnostics
\& ChRul         list the partition types subject to
\&                 Change\-Rules
\& EBDA          list Extended BIOS Data Area information
\& geom=<drive>  list drive geometry for bios drive;
\&                 e.g. geom=0x80
\& geom          list drive geometry for all drives
\& table=<drive> list the primary partition table;
\&                 e.g. table=/dev/sda
\& video         list graphic modes available to boot
\&                 loader
.Ve
.IP "\fB\-u\fR \fI[device\-name]\fR" 4
.IX Item "-u [device-name]"
Uninstall lilo by copying the saved boot sector back. The \fB\-s\fR and \fB\-C\fR switches
may be used with this option. The device-name is optional. A time-stamp is
checked.
.IP "\fB\-U\fR \fI[device\-name]\fR" 4
.IX Item "-U [device-name]"
The same as '\-u', but do not check the time-stamp.
.IP "\fB\-v\fR \fI[number]\fR" 4
.IX Item "-v [number]"
Increase verbosity. Giving one to five \fB\-v\fR options will make lilo more verbose.
The \fBnumber\fR (range 1..5) set verbosity level.
.IP "\fB\-V\fR" 4
.IX Item "-V"
Print version number.
.IP "\fB\-w\fR\fI[+|\-]\fR" 4
.IX Item "-w[+|-]"
Used as \fB\-w\fR or \fB\-w\-\fR to suppress warning messages. Used as '\-w+' to override
\&\fI'nowarn'\fR in the configuration file and show warning messages.
.IP "\fB\-x\fR \fIoption\fR" 4
.IX Item "-x option"
For \s-1RAID\s0 installations  only. The option may be any of the keywords: \fInone\fR,
\&\fIauto\fR, \fImbr\fR, \fImbr-only\fR, or a comma separated list of additional boot
devices (no spaces allowed in the list).
.Sp
\&\s-1RAID\s0 installations write the boot record to the \s-1RAID\s0 partition. Conditional
writing of MBRs may occur to aid in making the \s-1RAID\s0 set bootable in a recovery
situation, but all default actions may be overridden. Action similar to previous
versions is achieved using the \fI'\-x mbr\-only'\fR switch.
.IP "\fB\-X\fR" 4
.IX Item "-X"
Reserved for \s-1LILO\s0 internal use. May produce different output for different \s-1LILO\s0
versions. The line beginning \*(L"CFLAGS=\*(R" will contain the compiler options used to
generate this version of \s-1LILO.\s0
.IP "\fB\-z\fR" 4
.IX Item "-z"
When used with the '\-M' switch, clears the Volume-ID.  Usually used in the
following sequence to generate a new Volume-ID:
.Sp
.Vb 2
\&    lilo \-z \-M /dev/sda
\&    lilo \-M /dev/sda
.Ve
.IP "\fB\-Z\fR \fIoption\fR" 4
.IX Item "-Z option"
Tells the boot installer whether special precautions need to be taken because
the \s-1BIOS\s0 fails to pass the correct device code in \s-1DL \s0(\-Z0). Or may specify
that the \s-1BIOS\s0 always gets \s-1DL\s0 right (\-Z1). Corresponds to, and overrides, the
configuration file option 'bios\-passes\-dl='.
.SH "CONFIG OPTIONS"
.IX Header "CONFIG OPTIONS"
The above command line options correspond to the key words in the config file
indicated below.
.PP
.Vb 1
\&              \-b bootdev       boot=bootdev
\&
\&              \-B file.bmp      bitmap=file.bmp
\&              \-c               compact
\&              \-d dsec          delay=dsec
\&              \-D label         default=label
\&              \-f file          disktab=file
\&              \-g               geometric
\&              \-l               linear
\&              \-L               lba32
\&              \-m mapfile       map=mapfile
\&              \-P fix           fix\-table
\&              \-P ignore        ignore\-table
\&              \-s file          backup=file
\&              \-S file          force\-backup=file
\&              \-v [N]           verbose=N
\&              \-w               nowarn
\&              \-x option        raid\-extra\-boot=option
\&              \-Z option        bios\-passes\-dl=option
.Ve
.SH "BOOT OPTIONS"
.IX Header "BOOT OPTIONS"
The  options  described  here may be specified at boot time on the command line
when a kernel image is booted. These options are processed by \s-1LILO,\s0 and are
removed from the command line before it is passed to the kernel, unless otherwise
noted.
.IP "\fBlock\fR" 4
.IX Item "lock"
Locks the command line, as though 'lock' had been defined in \fI/etc/lilo.conf\fR.
.IP "\fBmem=###[,K,M,G]\fR" 4
.IX Item "mem=###[,K,M,G]"
Set the maximum memory in the system in bytes, kilobytes, megabytes or gigabytes.
This option is not removed from the command line, and is always passed to the
kernel.
.IP "\fBnobd\fR" 4
.IX Item "nobd"
Suppresses the \s-1BIOS\s0 data check. This option is reserved for use with
non-IBM-compliant \s-1BIOS\s0's which hang with the lines:
.Sp
.Vb 2
\&    Loading...............
\&    BIOS data check
.Ve
.IP "\fBvga=[\s-1ASK,EXT,EXTENDED,NORMAL\s0,###,0x###]\fR" 4
.IX Item "vga=[ASK,EXT,EXTENDED,NORMAL,###,0x###]"
Allows overriding the default video mode upon kernel startup.
.SH "BOOT ERRORS"
.IX Header "BOOT ERRORS"
The  boot process takes place in two stages. The first stage loader is a single
sector, and is loaded by the \s-1BIOS\s0 or by the loader in the \s-1MBR.\s0 It loads the
multi-sector second stage loader, but is very space limited. When the first
stage  loader  gets  control, it types  the  letter 'L'; when it is ready to
transfer control to the second stage loader it types the letter 'I'. If any
error occurs, like a disk read error, it will put out a hexadecimal error code
and then re-try the operation.  All hex error codes are \s-1BIOS\s0 return values,
except for the lilo-generated codes: 40, 99 and 9A. A partial list of error
codes follows:
.PP
.Vb 10
\&    00  no error
\&    01  invalid disk command
\&    02  address mark not found
\&    03  disk write\-protected
\&    04  sector not found
\&    06  floppy disk removed
\&    08  DMA overrun
\&    0A  bad sector flag
\&    0B  bad track flag
\&    20  controller failure
\&    40  seek failure (BIOS)
\&    40  cylinder>1023 (LILO)
\&    99  invalid second stage index sector (LILO)
\&    9A  no second stage loader signature (LILO)
\&    AA  drive not ready
\&    FF  sense operation failed
.Ve
.PP
Error code 40 is generated by the \s-1BIOS,\s0 or by \s-1LILO\s0 during the conversion of a
linear (24\-bit) disk address to a geometric (C:H:S) address. On older systems
which do not support lba32 (32\-bit) addressing, this error may also be generated.
Errors 99 and 9A usually mean the map file ('\-m' or 'map=') is not readable,
likely because \s-1LILO\s0 was not re-run after some system change, or there is a
geometry mismatch between what \s-1LILO\s0 used (lilo \-v3 to display) and what is
actually being used by the \s-1BIOS \s0(one of the lilo diagnostic  disks, available
in the source distribution, may be needed to diagnose this problem).
.PP
When  the second stage loader has received control from the first stage, it
prints the letter 'L', and when it has initialized itself, including verifying
the \*(L"Descriptor Table\*(R" \- the list of kernels/others to boot \- it will print
the letter \*(L"O\*(R", to form the full word \*(L"\s-1LILO\*(R",\s0 in uppercase.
.PP
All second stage loader error messages are English text and try to pinpoint,
more or less successfully, the point of failure.
.SH "BUGS"
.IX Header "BUGS"
Configuration file options 'backup' and 'force\-backup' should specify a backup
directory or backup file pathname template on all \s-1RAID\s0 installations. Use of an
explicit filename may not allow multiple backup files to be created correctly.
It is best to use the  default mechanism, as it works correctly in all cases.
.SH "COPYRIGHT and LICENSE"
.IX Header "COPYRIGHT and LICENSE"
.Vb 3
\& Copyright (C) 1992\-1998 Werner Almesberger
\& Copyright (C) 1999\-2007 John Coffman
\& Copyright (C) 2009\-2014 Joachim Wiedorn
.Ve
.PP
Redistribution and use in source and binary forms, with or without
modification, are permitted under the terms of the \s-1BSD\s0 license found in
the \s-1COPYING\s0 file.
.SH "AUTHOR"
.IX Header "AUTHOR"
\&\fBlilo\fR was written by:
.PP
.Vb 3
\& Werner Almesberger (version 0 to 21),
\& John Coffman (version 21.2 to 22.8),
\& Joachim Wiedorn (since version 23.0).
.Ve
.PP
This manual page was written by Werner Almesberger and Joachim Wiedorn
<joodevel at joonet.de>.
.SH "SEE ALSO"
.IX Header "SEE ALSO"
\&\fBlilo.conf\fR(5),
\&\fBliloconfig\fR(8),
\&\fBlilo-uuid-diskid\fR(8),
\&\fBmkrescue\fR(8),
\&\fBfdisk\fR(8),
\&\fBmkinitrd\fR(8)
